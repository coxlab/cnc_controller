--- dumbdbm_patched.py  2009-09-25 05:28:21.000000000 +0300 
+++ dumbdbm_patched_fixed.py    2009-09-25 05:26:18.000000000 +0300 
@@ -70,7 +70,10 @@ 
         f.close() 
     def __getitem__(self, key): 
-        pos, siz = self._index[key] # may raise KeyError 
+        try: 
+            pos, siz = self._index[key] # may raise KeyError 
+        except KeyError: 
+            raise IndexError 
         f = _open(self._datfile, 'rb') 
         f.seek(pos) 
         dat = f.read(siz)
